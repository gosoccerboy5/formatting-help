<!DOCTYPE html>
<html>
    <head>
        <title>Remove excess whitespace</title>
        <link rel="stylesheet" href="./stylesheet.css" />
        <meta charset="UTF-8">
        <link rel="icon" href="favicon.ico" />
    </head>
    <body>
        <h1>Remove indentation wacky whitespace</h1>
        <h2>When your JS or CSS is indented along with the HTML, it will show with awkward whitespace to the left of it.</h2>
        <p>Paste it here to remove that. Don't forget to check <a href="./format">this</a> out!</p>
        <textarea id="input"></textarea>
        <br>
        Trim <input type="number" id="amount"> off the beginning of each line
        <br>
        <button id="trigger">Trim!</button>
        <br>
        <textarea id="output"></textarea>
        <br>
        <br>
        <a href="./">Home</a>
        <script>
(function(input, target, number, trigger) {
    input.oninput = function() {
        number.value = input.value.split("\n")[0].match(/^ */gm)[0].length;
    }; // Basically, detect the amount of preceding spaces on the first line, and then use that value to "guess".

    input.oninput(); // "Guess" the amount of spaces when the page loads.
    input.focus(); // Focus on the input area on page load so you can instantly paste code

    String.prototype.times = function(amt) {
        let returnVal = "";
        for (let i = 0; i < amt; i++) {
            returnVal += this;
        }
        return returnVal;
        // "Multiplies" a string.
    };

    trigger.addEventListener("click", function() {
        let _temp = "";
        const split = input.value.split("\n");
        for (let i = 0; i < split.length; i++) {
            _temp += split[i].replace(" ".times(Number(number.value)), "")+ "\n";
        }
        target.value = _temp;
        // When the trigger is clicked,
        // it iterates through the input box, splits it by line-break, and removes the necessary spaces from each line
    });
})(document.querySelector("#input"), document.querySelector("#output"), document.querySelector("#amount"), document.querySelector("#trigger"));
// Uses an IIFE to save lines, and portray "reusable" code.
        </script>
    </body>
</html>